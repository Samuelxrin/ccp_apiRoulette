System.register("chunks:///_virtual/awardItemController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventMgr.ts"],(function(t){"use strict";var e,n,i,a,r,s,o,l;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t.Animation,s=t.ParticleSystem2D,o=t.Component},function(t){l=t.EventMgr}],execute:function(){a._RF.push({},"0a842O1ekJFgIJMDm222C2+","awardItemController",void 0);t("awardItemController",function(t){function a(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(i(e),"itemAwardParticle",null),n(i(e),"awardItemParticleSystem2D",null),n(i(e),"awardAnimation",null),e}e(a,t);var o=a.prototype;return o.onLoad=function(){this.awardAnimation=this.node.getComponent(r),this.itemAwardParticle=this.node.getChildByName("item_award_particle"),this.awardItemParticleSystem2D=this.itemAwardParticle.getComponent(s),l.Instance.AddEventListener("awardGameFinished",this,this.stop)},o.play=function(){this.awardAnimation.play(),this.awardItemParticleSystem2D.resetSystem()},o.stop=function(){this.awardAnimation.stop(),this.awardItemParticleSystem2D.stopSystem()},o.onDestroy=function(){l.Instance.RemoveListener("awardGameFinished",this,this.stop)},a}(o));a._RF.pop()}}}));

System.register("chunks:///_virtual/rouletteGameAwardController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventMgr.ts","./uiMgr.ts","./utils.ts","./globalVariable.ts"],(function(t){"use strict";var e,n,a,r,o,i,l,s,u,d,c,m;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,i=t.Animation,l=t.Label,s=t.Component},function(t){u=t.EventMgr},function(t){d=t.uiMgr},function(t){c=t.SpinType},function(t){m=t.default}],execute:function(){var p;r._RF.push({},"20882iDXf1Ju7aM1DWy6p91","rouletteGameAwardController",void 0);var A=o.ccclass;o.property,t("rouletteGameAwardController",A("rouletteGameAwardController")(p=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,n(a(e),"awardSpinType",c.ONCE),n(a(e),"rouletteGameAwardAnimation",null),e}e(r,t);var o=r.prototype;return o.onLoad=function(){this.awardSpinType="normal"==m.turnType?c.ONCE:c.MAX,this.rouletteGameAwardAnimation=this.getComponent(i),this.rouletteGameAwardAnimation.play("rouletteGameAward_animation"),this.node.getChildByName("award_label").getComponent(l).string="恭喜獲得\n"+m.drawPrizes;var t=this.rouletteGameAwardAnimation.getState("rouletteGameAward_animation");this.awardSpinType==c.MAX&&t.setTime(.62)},o.onAwardAnimationFinished=function(t){var e=this;console.log("onAwardAnimationFinished:",t),this.scheduleOnce((function(){e.onFadeOutDestroy()}),this.awardSpinType==c.MAX?1:3)},o.onFadeOutDestroy=function(){u.Instance.Emit("awardGameFinished",!0),d.Instance.RemoveUI("roulette/rouletteGameAward")},r}(s))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/aesMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./index.js"],(function(t){"use strict";var n,e,r,c,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty},function(t){r=t.cclegacy,c=t._decorator,o=t.Component},function(t){s=t.default}],execute:function(){r._RF.push({},"2c844ss8w9Izb7x5NVgrYKD","aesMgr",void 0);c.ccclass,c.property;var i="E156IOL8K9S9D1O1",u=t("aesMgr",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.onLoad=function(){null===e.Instance?e.Instance=this:this.destroy()},r.encrypt=function(t){return s.AES.encrypt(t,s.enc.Utf8.parse(i),{mode:s.mode.ECB,padding:s.pad.Pkcs7}).toString()},r.decrypt=function(t){return s.AES.decrypt(t,s.enc.Utf8.parse(i),{mode:s.mode.ECB,padding:s.pad.Pkcs7}).toString(s.enc.Utf8)},e}(o));e(u,"Instance",null),r._RF.pop()}}}));

System.register("chunks:///_virtual/rouletteGameAppController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./awardItemController.ts","./uiMgr.ts","./utils.ts","./globalVariable.ts","./btnCloseController.ts","./turn.ts","./btnController.ts","./shineBallsController.ts","./apiIndex.ts","./rouletteGameDialogController.ts"],(function(t){"use strict";var n,e,i,l,a,o,s,r,u,p,h,c,g,d,m,C,b,S,f,y,B,_;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized,l=t.asyncToGenerator},function(t){a=t.cclegacy,o=t._decorator,s=t.Input,r=t.Label,u=t.Animation,p=t.Quat,h=t.Vec3,c=t.Component},function(t){g=t.awardItemController},function(t){d=t.uiMgr},function(t){m=t.SpinType},function(t){C=t.default},function(t){b=t.btnCloseController},function(t){S=t.startTurn},function(t){f=t.btnController},function(t){y=t.shineBallsController},function(t){B=t.apiIndex},function(t){_=t.rouletteGameDialogController}],execute:function(){var A;a._RF.push({},"2ec56n+S+9BmLGSc7ZFLOZz","rouletteGameAppController",void 0);var T=o.ccclass;o.property,t("rouletteGameAppController",T("rouletteGameAppController")(A=function(t){function a(){for(var n,l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,e(i(n),"btnSpinSingle",null),e(i(n),"btnSpinMultiple",null),e(i(n),"rouletteTable",null),e(i(n),"lastSpinCount",null),e(i(n),"spinCount",null),e(i(n),"btnSpinCount",null),e(i(n),"btnClose",null),e(i(n),"shineBallsAnimation",null),e(i(n),"shineBallsController",null),e(i(n),"lastTurn",!1),n}n(a,t);var o=a.prototype;return o.onLoad=function(){var t=this.node.getChildByName("gameDisc");this.rouletteTable=t.getChildByName("award_item_goup"),this.rouletteTable.children.forEach((function(t){return t.addComponent(g)})),this.btnSpinSingle=this.node.getChildByName("btn_spin_single"),this.btnSpinMultiple=this.node.getChildByName("btn_spin_multiple"),this.btnSpinSingle.addComponent(f),this.btnSpinMultiple.addComponent(f),this.btnSpinSingle.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.btnSpinMultiple.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.lastSpinCount=this.node.getChildByName("remainingTimesDescribetion").getComponent(r),this.lastSpinCount.string="剩餘抽獎次數 x "+C.totalQuantity.toString(),this.spinCount=this.btnSpinMultiple.getChildByName("btnContent").getChildByName("Label-dynamic").getComponent(r),this.spinCount.string=C.totalQuantity.toString(),this.btnSpinCount=this.btnSpinMultiple.getChildByName("btnDescribetion").getComponent(r),this.btnSpinCount.string="抽取"+C.totalQuantity.toString()+"次",d.Instance.ShowUIPrefabFromAsset("roulette/rouletteGameDialog"),this.btnClose=this.node.getChildByName("btn_close"),this.btnClose.addComponent(b);var n=t.getChildByName("shine_balls");this.shineBallsController=n.addComponent(y),this.shineBallsAnimation=n.getComponent(u),this.rouletteTable.children.forEach((function(t,n){t.getChildByName("item_amount").getComponent(r).string=C.gameParam["award"+(n+1)]}))},o.onTouchEnd=function(){var t=l(regeneratorRuntime.mark((function t(n){var e,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this,i="btn_spin_single"==n.currentTarget.name?m.ONCE:m.MAX,!C.turningFlag){t.next=7;break}return console.log("wait sometime pls"),C.tip="請稍後在按",_.Instance.show(),t.abrupt("return",!1);case 7:if(!(C.totalQuantity<=0)){t.next=11;break}return C.tip="您已無抽獎券",_.Instance.show(),t.abrupt("return",!1);case 11:if(C.turningFlag=!0,i!==m.ONCE){t.next=16;break}C.quantity=1,t.next=21;break;case 16:if(i!==m.MAX){t.next=20;break}C.quantity=C.totalQuantity,t.next=21;break;case 20:return t.abrupt("return",!1);case 21:return t.next=23,B.Instance.getAward();case 23:if("number"==typeof(l=t.sent).status&&200===l.status){t.next=28;break}return C.tip=l.data,_.Instance.show(),t.abrupt("return",!1);case 28:C.turnType=1==l.data.length?"normal":"fast",l.data.forEach((function(t,n){e.scheduleOnce((function(){C.awardAngle=45*(t-1),C.drawPrizes=C.gameParam["award"+t.toString()],e.startTurn(),e.lastTurn=n+1==l.data.length}),n*("fast"==C.turnType?4:11))}));case 30:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),o.startTurn=function(){var t=this;this.playShineBallsAnimation();S({speed:20,delay:"fast"==C.turnType?3:10,fromZ:C.lastAngle,toZ:C.awardAngle,onUpdate:function(n,e){t.rouletteTable.setRotationFromEuler(0,0,n),e<.1?(t.shineBallsAnimation.getState("disc_shine_ball").speed=1,t.shineBallsController.setSpeed("very_slower")):e>=.1&&e<.2?(t.shineBallsAnimation.getState("disc_shine_ball").speed=1.5,t.shineBallsController.setSpeed("slower")):e>=.2&&e<.3?(t.shineBallsController.setSpeed("slower_fast"),t.shineBallsAnimation.getState("disc_shine_ball").speed=1.8):e>=.3&&e<.8?(t.shineBallsController.setSpeed("fast"),t.shineBallsAnimation.getState("disc_shine_ball").speed=2):(t.shineBallsController.setSpeed("very_slower"),t.shineBallsAnimation.getState("disc_shine_ball").speed=2-e)},onDone:function(){var n=new p,e=new h;t.rouletteTable.getRotation(n),p.toEuler(e,n),console.log(e.z),t.stopShineBallsAnimation();var i=C.awardAngle/45;t.rouletteTable.children[i].getComponent(g).play(),d.Instance.ShowUIPrefabFromAsset("roulette/rouletteGameAward"),C.lastAngle=C.awardAngle,C.totalQuantity-=1,t.lastSpinCount.string="剩餘抽獎次數 x "+C.totalQuantity.toString(),t.lastTurn&&(t.lastTurn=!1,C.turningFlag=!1,t.spinCount.string=C.totalQuantity.toString(),t.btnSpinCount.string="抽取"+C.totalQuantity.toString()+"次",B.Instance.awardNotify())}})},o.playShineBallsAnimation=function(){this.shineBallsController.play(),this.shineBallsAnimation.stop(),this.shineBallsAnimation.play("disc_shine_ball")},o.stopShineBallsAnimation=function(){this.shineBallsController.end(),this.shineBallsAnimation.stop()},o.update=function(){C.totalQuantity<=0&&(this.btnSpinSingle.getComponent(f).setGrayscale(),this.btnSpinSingle.getComponent(r)),C.totalQuantity<Number(this.spinCount.string)&&this.btnSpinMultiple.getComponent(f).setGrayscale()},a}(c))||A);a._RF.pop()}}}));

System.register("chunks:///_virtual/rouletteGameDialogController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./globalVariable.ts"],(function(t){"use strict";var o,e,l,i,a,n,r,c,s;return{setters:[function(t){o=t.defineProperty,e=t.inheritsLoose,l=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,n=t.UIOpacity,r=t.Label,c=t.Component},function(t){s=t.default}],execute:function(){var u,g,p;i._RF.push({},"351caLwQR1BFrOnZW54Yzml","rouletteGameDialogController",void 0);var d=a.ccclass;a.property,t("rouletteGameDialogController",d("rouletteGameDialogController")((p=g=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(l(e),"dialogOpacity",null),o(l(e),"dialog_label",null),e}e(i,t);var a=i.prototype;return a.onLoad=function(){null===i.Instance?(i.Instance=this,this.dialogOpacity=this.node.getComponent(n),this.dialogOpacity.opacity=0,this.dialog_label=this.node.getChildByName("dialog_label").getComponent(r)):this.destroy()},a.show=function(){if(s.dialogFlag)return!1;s.dialogFlag=!0;var t=this;this.dialog_label.string=s.tip,this.dialogOpacity.opacity=255,this.scheduleOnce((function(){s.dialogFlag=!1,t.dialogOpacity.opacity=0}),1)},i}(c),o(g,"Instance",null),u=p))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ajaxMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./globalVariable.ts","./axios.min.js","./axios.min.mjs_cjs=&original=.js"],(function(t){"use strict";var n,e,r,a,s,o,u,c;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,r=t.asyncToGenerator},function(t){a=t.cclegacy,s=t._decorator,o=t.Component},function(t){u=t.default},function(t){c=t.default},null],execute:function(){a._RF.push({},"3f087MgCgdPGr476ELUJtAd","ajaxMgr",void 0);s.ccclass,s.property;var i=t("ajaxMgr",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var a=e.prototype;return a.onLoad=function(){null===e.Instance?e.Instance=this:this.destroy()},a.sendPost=function(){var t=r(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c({method:"post",url:"http://ma.localhost.com:8086/Lotto_Cash2/Source4/Supporter_Admin/AAA/"+n,data:u.postData,headers:{"Content-Type":"multipart/form-data"}}).catch((function(t){return{status:"400",msg:"請求失敗"+t,res:[]}}));case 2:return e=t.sent,t.abrupt("return",{status:e.status,msg:e.message,res:e.data});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),e}(o));e(i,"Instance",null),a._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var n;t("SpinType",void 0),e._RF.push({},"446b7sntnRBdL483deNCpeb","utils",void 0),function(t){t[t.ONCE=0]="ONCE",t[t.MAX=1]="MAX"}(n||(n=t("SpinType",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/rouletteGameLoadingController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventMgr.ts","./btnCloseController.ts"],(function(e){"use strict";var r,o,t,s,n,a,i,l,g,c;return{setters:[function(e){r=e.inheritsLoose,o=e.defineProperty,t=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,a=e.ProgressBar,i=e.Label,l=e.Component},function(e){g=e.EventMgr},function(e){c=e.btnCloseController}],execute:function(){var p;s._RF.push({},"70b4bA8/e9LaYhY/MlSnZaU","rouletteGameLoadingController",void 0);var u=n.ccclass;n.property,e("rouletteGameLoadingController",u("rouletteGameLoadingController")(p=function(e){function s(){for(var r,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(t(r),"progressBarCom",null),o(t(r),"ProgressBarPercentage",null),o(t(r),"btnClose",null),r}r(s,e);var n=s.prototype;return n.onLoad=function(){var e=this.node.getChildByName("ProgressBar");this.progressBarCom=e.getComponent(a),this.progressBarCom.progress=0,this.ProgressBarPercentage=e.getChildByName("ProgressBarPercentage").getComponent(i),this.ProgressBarPercentage.string=this.progressBarCom.progress+"%",g.Instance.AddEventListener("loadProgress",this,this.onProgressUpdate),this.btnClose=this.node.getChildByName("btn_close"),this.btnClose.addComponent(c)},n.onProgressUpdate=function(e,r){this.progressBarCom.progress=r,this.ProgressBarPercentage.string=this.progressBarCom.progress+"%",console.log("onProgressUpdate",r)},n.onDestroy=function(){g.Instance.RemoveListener("loadProgress",this,this.onProgressUpdate)},s}(l))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/btnCloseController.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,s,c,i,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.Input,c=t.tween,i=t.Vec3,l=t.Component}],execute:function(){e._RF.push({},"757c3JtUpFItqmZL2vBu3Iw","btnCloseController",void 0);o.ccclass,o.property,t("btnCloseController",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){this.node.on(s.EventType.TOUCH_START,this.btnCloseTouchStart,this),this.node.on(s.EventType.TOUCH_END,this.btnCloseTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.btnCloseTouchCancel,this)},o.btnCloseTouchStart=function(t){c(this.node).to(.3,{scale:new i(.8,.8,.8)},{easing:"elasticOut"}).start()},o.btnCloseTouchEnd=function(t){c(this.node).to(.1,{scale:new i(1,1,1)},{easing:"elasticOut",onComplete:function(){window.parent.close()}}).start()},o.btnCloseTouchCancel=function(t){c(this.node).to(.1,{scale:new i(1,1,1)},{easing:"elasticOut"}).start()},e}(l));e._RF.pop()}}}));

System.register("chunks:///_virtual/resMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s,n,r,o,a,l;return{setters:[function(t){e=t.inheritsLoose,s=t.defineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,a=t.assetManager,l=t.Component}],execute:function(){r._RF.push({},"98f54RbCiJA7KiLHs66bA82","resMgr",void 0);o.ccclass,o.property;var i=t("resMgr",function(t){function r(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,s(n(e),"totalAb",0),s(n(e),"nowAb",0),s(n(e),"now",0),s(n(e),"total",0),e}e(r,t);var o=r.prototype;return o.onLoad=function(){null===r.Instance?r.Instance=this:this.destroy()},o.preloadResPkg=function(t,e,s){var n=this;for(var r in this.totalAb=0,this.nowAb=0,this.total=0,this.now=0,t)if(this.totalAb++,t[r]instanceof Array)for(var o=0;o<t[r].length;o++)this.total+=t[r][o].urls.length;for(var r in t)a.loadBundle(r,(function(o,a){if(o)console.log("load bundle erro: ",o);else{if(n.nowAb++,!(t[r]instanceof Array)){var l=a.getDirWithPath("/");n.total+=l.length}n.nowAb>=n.totalAb&&n.preloadAssetsInAssetsBundles(t,e,s)}}))},o.preloadAssetsInAssetsBundles=function(t,e,s){for(var n in t){var r=a.getBundle(n);if(r)if(t[n]instanceof Array)for(var o=0;o<t[n].length;o++)this.loadAssetsInUrls(r,t[n][o].typeAsset,t[n][o].urls,e,s);else{for(var l=t[n],i=r.getDirWithPath("/"),c=[],f=0;f<i.length;f++)c.push(i[f].path);this.loadAssetsInUrls(r,l,c,e,s)}}},o.loadAssetsInUrls=function(t,e,s,n,r){for(var o=0;o<s.length;o++)this.loadAndRef(t,s[o],e,n,r)},o.loadAndRef=function(t,e,s,n,r){var o=this;t.load(e,s,(function(t,s){t?console.log("load assets: ",t):(console.log("load asset success：",e),s.addRef(),o.now++,n&&n(o.now,o.total),o.now>=o.total&&r&&r())}))},o.getAsset=function(t,e){var s=a.getBundle(t);return s?s.get(e):null},o.releaseResPkg=function(t){for(var e in t){var s=a.getBundle(e);if(s)if(t[e]instanceof Array)for(var n=0;n<t[e].length;n++)this.releaseAssetsInUrls(s,t[e][n].typeAsset,t[e][n].urls);else{for(var r=t[e],o=s.getDirWithPath("/"),l=[],i=0;i<o.length;i++)l.push(o[i].path);this.releaseAssetsInUrls(s,r,l)}}},o.releaseAssetsInUrls=function(t,e,s){for(var n=0;n<s.length;n++){var r=t.get(s[n]);r&&(console.log(r),r.decRef(!0))}},r}(l));s(i,"Instance",null),r._RF.pop()}}}));

System.register("chunks:///_virtual/shineBallsController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resMgr.ts"],(function(e){"use strict";var s,n,t,i,o,l,r,a;return{setters:[function(e){s=e.inheritsLoose,n=e.defineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.AudioSource,r=e.Component},function(e){a=e.resMgr}],execute:function(){var p;i._RF.push({},"a171e08gf9Nc7vi5kgZL2Mw","shineBallsController",void 0);var c=o.ccclass;o.property,e("shineBallsController",c("shineBallsController")(p=function(e){function i(){for(var s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return s=e.call.apply(e,[this].concat(o))||this,n(t(s),"shineBallsAudioSource",[]),n(t(s),"playIndex",0),n(t(s),"spinWheelEndAudioSource",null),s}s(i,e);var o=i.prototype;return o.onLoad=function(){for(var e=[a.Instance.getAsset("music","spinWheel_very_slower"),a.Instance.getAsset("music","spinWheel_slower"),a.Instance.getAsset("music","spinWheel_slower_fast"),a.Instance.getAsset("music","spinWheel")],s=0;s<4;s++){var n=new l;n.playOnAwake=!1,n.loop=!0,n.clip=e[s],this.shineBallsAudioSource.push(n)}this.spinWheelEndAudioSource=new l},o.play=function(){this.shineBallsAudioSource[this.playIndex].playing||this.shineBallsAudioSource[this.playIndex].play()},o.stop=function(){for(var e=0;e<4;e++)this.shineBallsAudioSource[e].stop()},o.end=function(){this.stop(),this.spinWheelEndAudioSource.playOneShot(a.Instance.getAsset("music","spinWheelEnd"),1)},o.setSpeed=function(e){"very_slower"==e&&0!==this.playIndex&&(this.stop(),this.playIndex=0),"slower"==e&&1!==this.playIndex&&(this.stop(),this.playIndex=1),"slower_fast"==e&&2!==this.playIndex&&(this.stop(),this.playIndex=2),"fast"==e&&3!==this.playIndex&&(this.stop(),this.playIndex=3),this.play()},i}(r))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/dialogController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resMgr.ts"],(function(n){"use strict";var t,i,e,o,s,a,l,r,c,u,d,p,g,h;return{setters:[function(n){t=n.inheritsLoose,i=n.defineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator,a=n.find,l=n.AudioSource,r=n.instantiate,c=n.UIOpacity,u=n.Label,d=n.AudioClip,p=n.Prefab,g=n.Component},function(n){h=n.resMgr}],execute:function(){o._RF.push({},"a5577ggFGtGpZeoM0LQxr7q","dialogController",void 0);s.ccclass,s.property;var f={music:[{assetType:d,urls:["tip"]}],prefab:[{assetType:p,urls:["dialogPF"]}]},y=n("dialogController",function(n){function o(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=n.call.apply(n,[this].concat(s))||this,i(e(t),"canvas",null),i(e(t),"myDialog",null),i(e(t),"myMusic",null),t}t(o,n);var s=o.prototype;return s.onLoad=function(){null===o.Instance?(o.Instance=this,this.canvas=a("mainCanvas")):this.destroy()},s.beforeShow=function(n,t,i){var e=this;void 0===t&&(t=!0),void 0===i&&(i=5),null===this.myDialog&&h.Instance.preloadResPkg(f,(function(){}),(function(){var o=h.Instance.getAsset("prefab","dialogPF");o?(e.myDialog=o,e.myMusic=e.node.addComponent(l),e.myMusic.clip=h.Instance.getAsset("music","tip"),e.show(n,t,i)):console.log("cannot find ui Prefab: dialogPF")}))},s.show=function(n,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=5),null===this.myDialog)this.beforeShow(n,t,i);else{var e=r(this.myDialog);this.canvas.addChild(e),e.setSiblingIndex(888),e.getComponent(c).opacity=255,e.getChildByName("dialogTip").getComponent(u).string=n,t&&this.myMusic.play(),this.scheduleOnce((function(){e.destroy()}),i)}},o}(g));i(y,"Instance",null),o._RF.pop()}}}));

System.register("chunks:///_virtual/eventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,s,i,r;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,r=e.Component}],execute:function(){i._RF.push({},"adcbdsVW+ZCvKFgGGXRp29q","eventMgr",void 0);var a=e("EventMgr",function(e){function i(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(s(t),"events_map",{}),t}t(i,e);var r=i.prototype;return r.onLoad=function(){null===i.Instance?i.Instance=this:this.destroy()},r.AddEventListener=function(e,t,n){this.events_map[e]||(this.events_map[e]=[]),this.events_map[e].push({caller:t,func:n})},r.RemoveListener=function(e,t,n){if(this.events_map[e]){for(var s=this.events_map[e],i=0;i<s.length;i++){var r=s[i];if(r.caller==t&&r.func==n){s.splice(i,1);break}}s.length<=0&&(this.events_map[e]=null)}},r.Emit=function(e,t){if(this.events_map[e])for(var n=this.events_map[e],s=0;s<n.length;s++){var i=n[s];i.func.call(i.caller,e,t)}},i}(r));n(a,"Instance",null),i._RF.pop()}}}));

System.register("chunks:///_virtual/uiMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resMgr.ts"],(function(a){"use strict";var t,n,e,i,s,r,o,c,l;return{setters:[function(a){t=a.inheritsLoose,n=a.defineProperty,e=a.assertThisInitialized},function(a){i=a.cclegacy,s=a._decorator,r=a.find,o=a.instantiate,c=a.Component},function(a){l=a.resMgr}],execute:function(){i._RF.push({},"b688e1S8zRDG690tIPTu2qL","uiMgr",void 0);s.ccclass,s.property;var u=a("uiMgr",function(a){function i(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=a.call.apply(a,[this].concat(s))||this,n(e(t),"canvas",null),n(e(t),"uiMap",{}),t}t(i,a);var s=i.prototype;return s.onLoad=function(){null===i.Instance?(i.Instance=this,this.canvas=r("mainCanvas")):this.destroy()},s.createImage=function(a){var t=l.Instance.getAsset("prefab",a);if(t){var n=o(t);this.canvas.addChild(n),n.setSiblingIndex(1),this.uiMap[a]=n}else console.log("cannot find ui Prefab: ",a)},s.RemoveUI=function(a){if(this.uiMap[a]){if(this.canvas.getChildByName(a))this.canvas.getChildByName(a).destroy();else{var t=this.uiMap[a].name;this.canvas.getChildByName(t).destroy()}this.uiMap[a].destroy(),this.uiMap[a]=null}},s.ClearAll=function(){for(var a in this.uiMap)this.uiMap[a]&&(this.canvas.getChildByName(a).destroy(),this.uiMap[a].destroy(),this.uiMap[a]=null)},s.ShowUIPrefab=function(a,t){var n=o(a);(t=t||this.canvas).addChild(n),console.log(a,a.data.name),n.addComponent(a.data.name+"Controller"),this.uiMap[a.data.name]=n},s.ShowUIPrefabFromAsset=function(a,t){var n=l.Instance.getAsset("prefab",a);if(n){var e=o(n);(t=t||this.canvas).addChild(e),this.uiMap[a]=e,e.addComponent(n.data.name+"Controller")}else console.log("cannot find ui Prefab: ",a)},i}(c));n(u,"Instance",null),i._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventMgr.ts","./resMgr.ts","./uiMgr.ts","./aesMgr.ts","./ajaxMgr.ts","./dialogController.ts","./rouletteGame.ts","./apiIndex.ts"],(function(n){"use strict";var t,e,o,i,r,a,s,d,c,u,l,p,f,g,h,m,y;return{setters:[function(n){t=n.defineProperty,e=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,d=n.Prefab,c=n.Component},function(n){u=n.EventMgr},function(n){l=n.resMgr},function(n){p=n.uiMgr},function(n){f=n.aesMgr},function(n){g=n.ajaxMgr},function(n){h=n.dialogController},function(n){m=n.rouletteGame},function(n){y=n.apiIndex}],execute:function(){var M,C,x,v,I,b,_;a._RF.push({},"bac7cMohWNFeoRRxyQDqkZ1","index",void 0);var D=s.ccclass,P=s.property;n("index",(M=D("index"),C=P(d),M((_=b=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(r(t),"loading",I,r(t)),t}o(t,n);var e=t.prototype;return e.onLoad=function(){null===t.Instance?t.Instance=this:this.destroy()},e.start=function(){this.node.addComponent(h),this.node.addComponent(u),this.node.addComponent(l),this.node.addComponent(p),this.node.addComponent(f),this.node.addComponent(g),this.node.addComponent(y),this.node.addComponent(m),y.Instance.startGame()},t}(c),t(b,"Instance",null),I=e((v=_).prototype,"loading",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=v))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/btnController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resMgr.ts"],(function(t){"use strict";var n,e,o,i,s,c,r,a,l,u,h,d,p;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t.Input,c=t.AudioSource,r=t.tween,a=t.Vec3,l=t.Sprite,u=t.Label,h=t.Color,d=t.Component},function(t){p=t.resMgr}],execute:function(){i._RF.push({},"cc07aU0qHlLPrjmgDIC7cZ1","btnController",void 0);t("btnController",function(t){function i(){for(var n,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=t.call.apply(t,[this].concat(s))||this,e(o(n),"_audioSource",null),e(o(n),"_audioClip",null),e(o(n),"_isGrayscale",!1),n}n(i,t);var d=i.prototype;return d.onLoad=function(){this.node.on(s.EventType.TOUCH_START,this.btnTouchStart,this),this.node.on(s.EventType.TOUCH_END,this.btnTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.btnTouchCancel,this),this._audioSource=new c,this._audioSource.loop=!1,this._audioSource.playOnAwake=!1,this._audioClip=p.Instance.getAsset("music","spin")},d.btnTouchStart=function(t){r(this.node).to(.3,{scale:new a(.8,.8,.8)},{easing:"elasticOut"}).start()},d.btnTouchEnd=function(t){r(this.node).to(.3,{scale:new a(1,1,1)},{easing:"elasticOut"}).start(),this._audioSource.playOneShot(this._audioClip,1)},d.btnTouchCancel=function(t){r(this.node).to(.3,{scale:new a(1,1,1)},{easing:"elasticOut"}).start()},d.setGrayscale=function(t){var n=this;void 0===t&&(t=null),this._isGrayscale||(null==t&&(t=this.node),t.children.forEach((function(t){var e=t.getComponent(l),o=t.getComponent(u);e&&(e.grayscale=!0),o&&(o.color=h.GRAY),0!=t.children.length&&n.setGrayscale(t)})),this._isGrayscale=!0)},i}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/globalVariable.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.createClass,n=t.defineProperty},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"dd380lIteZCO464bm1JLQHd","globalVariable",void 0);t("default",new(function(){function t(){n(this,"_turningFlag",!1),n(this,"_lastAngle",0),n(this,"_awardAngle",0),n(this,"_turnType","normal"),n(this,"_tip",""),n(this,"_dialogFlag",!1),n(this,"_activityName",""),n(this,"_gameId",0),n(this,"_userName",""),n(this,"_gameParam",{award1:"",award2:"",award3:"",award4:"",award5:"",award6:"",award7:"",award8:""}),n(this,"_drawPrizes",""),n(this,"_totalQuantity",0),n(this,"_quantity",0),n(this,"_postData",{})}return e(t,[{key:"turningFlag",get:function(){return this._turningFlag},set:function(t){this._turningFlag=t}},{key:"lastAngle",get:function(){return this._lastAngle},set:function(t){this._lastAngle=t}},{key:"awardAngle",get:function(){return this._awardAngle},set:function(t){this._awardAngle=t}},{key:"turnType",get:function(){return this._turnType},set:function(t){this._turnType=t}},{key:"tip",get:function(){return this._tip},set:function(t){this._tip=t}},{key:"dialogFlag",get:function(){return this._dialogFlag},set:function(t){this._dialogFlag=t}},{key:"activityName",get:function(){return this._activityName},set:function(t){this._activityName=t}},{key:"gameId",get:function(){return this._gameId},set:function(t){this._gameId=t}},{key:"userName",get:function(){return this._userName},set:function(t){this._userName=t}},{key:"gameParam",get:function(){return this._gameParam},set:function(t){this._gameParam=t}},{key:"drawPrizes",get:function(){return this._drawPrizes},set:function(t){this._drawPrizes=t}},{key:"totalQuantity",get:function(){return this._totalQuantity},set:function(t){this._totalQuantity=t}},{key:"quantity",get:function(){return this._quantity},set:function(t){this._quantity=t}},{key:"postData",get:function(){return this._postData},set:function(t){this._postData=t}}]),t}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/turn.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,o;return{setters:[function(n){t=n.extends},function(n){e=n.cclegacy,o=n.tween}],execute:function(){n("startTurn",(function(n){var e=t({},{speed:5,delay:5,fromZ:0,toZ:0,onUpdate:function(){},onDone:function(){}},n),r={z:e.fromZ},u={z:e.toZ+360*e.speed};return o(r).to(e.delay,u,{easing:"circInOut",progress:function(n,t,o,r){var u=n+(t-n)*r,c=u%360;return e.onUpdate(c,r),u}}).call((function(){e.onDone()})).start()})),e._RF.push({},"de8b8x6z5VKgJDbNVA/LuDX","turn",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/apiIndex.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./globalVariable.ts","./aesMgr.ts","./ajaxMgr.ts","./rouletteGame.ts"],(function(t){"use strict";var a,e,r,n,o,s,i,u,c,d;return{setters:[function(t){a=t.inheritsLoose,e=t.defineProperty,r=t.asyncToGenerator},function(t){n=t.cclegacy,o=t.randomRange,s=t.Component},function(t){i=t.default},function(t){u=t.aesMgr},function(t){c=t.ajaxMgr},function(t){d=t.rouletteGame}],execute:function(){n._RF.push({},"fa465h/mIpAJI8IYyAgrRl5","apiIndex",void 0);var m=t("apiIndex",function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onLoad=function(){null===e.Instance?e.Instance=this:this.destroy()},n.startGame=function(){var t=[],a=location.href;a=a+"?anentId=cct1&data="+u.Instance.encrypt('{"activityName":"1","userName":"test001","gameParam":{"award1":"10元","award2":"100元","award3":"1000元","award4":"1万元","award5":"10万元","award6":"100万元","award7":"1000万元","award8":"1億元"},"totalQuantity":'+Math.floor(o(1,8))+',"time":'+Math.floor(Date.now()/1e3)+"}");try{var e=a.split("?")[1].split("&");t.anentId=e[0].split("=")[1],t.data=e[1].split("=")[1]}catch(t){return 2}var r=[];try{r=JSON.parse(u.Instance.decrypt(t.data));var n={activityName:"string",userName:"string",gameParam:"object",totalQuantity:"number",time:"number"};Object.keys(n).map((function(t){if(typeof r[t]!==n[t])return 2}));for(var s=1;s<=8;s++)if("string"!=typeof r.gameParam["award"+s])return 2}catch(t){return console.log(t),1}["activityName","userName","gameParam","totalQuantity"].forEach((function(t){void 0!==r[t]&&(i[t]=r[t])})),d.Instance.startGameLoad()},n.getAward=function(){var t=r(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:Date.now(),userName:i.userName,activityName:i.activityName,quantity:i.quantity,time:Math.floor(Date.now()/1e3)},i.gameId=a.id,i.postData=a,t.next=5,c.Instance.sendPost("getAward");case 5:if(200!=(e=t.sent).status){t.next=10;break}return t.abrupt("return",{status:200,data:"number"==typeof e.res?[e.res]:e.res.split(",")});case 10:return t.abrupt("return",{status:200,data:e.msg});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.awardNotify=function(){var t={id:i.gameId,isOK:!0,time:Math.floor(Date.now()/1e3)};i.postData=t,c.Instance.sendPost("awardNotify")},e}(s));e(m,"Instance",null),n._RF.pop()}}}));

System.register("chunks:///_virtual/rouletteGame.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./eventMgr.ts","./resMgr.ts","./uiMgr.ts","./index.ts"],(function(e){"use strict";var t,n,s,o,r,a,i,l,u,c,p;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty},function(e){s=e.cclegacy,o=e._decorator,r=e.AudioClip,a=e.Prefab,i=e.Component},function(e){l=e.EventMgr},function(e){u=e.resMgr},function(e){c=e.uiMgr},function(e){p=e.index}],execute:function(){s._RF.push({},"fb00b+MT1RCKZrJOlACd/Va","rouletteGame",void 0);o.ccclass,o.property;var f={music:[{assetType:r,urls:["win","spin","spinWheel","spinWheel_very_slower","spinWheel_slower","spinWheel_slower_fast","spinWheelEnd"]}],prefab:[{assetType:a,urls:["roulette/rouletteGameApp","roulette/rouletteGameAward","roulette/rouletteGameDialog"]}]},d=e("rouletteGame",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var s=n.prototype;return s.onLoad=function(){null===n.Instance?n.Instance=this:this.destroy()},s.startGameLoad=function(){var e=this;c.Instance.ShowUIPrefab(p.Instance.loading),u.Instance.preloadResPkg(f,(function(e,t){l.Instance.Emit("loadProgress",Math.floor(100*e/t))}),(function(){c.Instance.RemoveUI(p.Instance.loading.data.name),e.startGame()}))},s.startGame=function(){console.log("startGame"),c.Instance.ShowUIPrefabFromAsset("roulette/rouletteGameApp")},s.onDestroy=function(){u.Instance.releaseResPkg(f),console.log("destroy this scene")},n}(i));n(d,"Instance",null),s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./eventMgr.ts","./awardItemController.ts","./resMgr.ts","./uiMgr.ts","./utils.ts","./globalVariable.ts","./rouletteGameAwardController.ts","./aesMgr.ts","./btnCloseController.ts","./turn.ts","./btnController.ts","./shineBallsController.ts","./ajaxMgr.ts","./dialogController.ts","./index.ts","./rouletteGame.ts","./apiIndex.ts","./rouletteGameDialogController.ts","./rouletteGameAppController.ts","./rouletteGameLoadingController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});